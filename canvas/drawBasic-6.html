<!doctype html>
<html lang="en">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel = "stylesheet" href ="fullscreen.css">
  <title>学习canvas的Path，实现镂空（cutout）</title>
 </head>
  
 <body>
   <canvas id="canvas">
   此浏览器不支持canvas
  </canvas>
  <script type="text/javascript">
  <!--
   var canvas = document.querySelector("canvas#canvas") ;
   var context = canvas.getContext("2d") ;

    canvas.width = window.innerWidth  ;
    canvas.height = window.innerHeight ;
 //第一阶段，绘制花格背景
   //修改drawBasic-2.html的drawVBackground函数，绘制水平和垂直的二种线，实现花格背景，函数分别命名为： drawVBackground和drawHBackground，函数的二个入口参数为背景线的间距（lineSpacing）,和背景线的粗细 （lineWidth）。
    drawBackground(30,2,"rgba(250,100,100,0.1)") ;
    drawBackground(50,5,"rgba(100,100,250,0.1)") ;
   function drawBackground(lineSpacing,lineWidth,bkColor){
  	if (lineSpacing < lineWidth*2){
      lineSpacing = lineWidth *2 ;
	}
    var  width = context.canvas.width - lineSpacing ;
	var  height = context.canvas.height - lineSpacing ;
	context.strokeStyle = bkColor ; 
	context.lineWidth = lineWidth ;
	while(width >= lineSpacing - lineWidth){
	 context.beginPath();
	 context.moveTo(width,0);
	 context.lineTo(width,context.canvas.height);
	 context.stroke();
	 width -= lineSpacing ;
	}//End of while 
	while(height >= lineSpacing - lineWidth){
	 context.beginPath();
	 context.moveTo(0,height);
	 context.lineTo(context.canvas.width,height);
	 context.stroke();
	 height -= lineSpacing ;
	}//End of while
   } //End of function drawBackground

    //第二阶段，对Paths, Stroking,  Filling开展绘制实践
	 context.fillStyle = 'rgba(100,100,250,0.5)';
     context.strokeStyle = context.fillStyle;
	 context.shadowColor = 'rgba(0,0,0,0.8)';
     context.shadowOffsetX = 12;
	 context.shadowOffsetY = 12;
	 context.shadowBlur = 15;
	 context.beginPath();
	 var x0 = context.canvas.width/2;
	 var y0 = context.canvas.height/2;
	 var r = x0 > y0 ? y0 : x0 ;
	 //console.log(x0+":"+y0);
     r = 2 / 3 * r ;
	 context.arc(x0, y0, r, 0, Math.PI*2, false); // Outer: CCW
	 context.arc(x0, y0, 2 / 3 * r, 0, Math.PI*2, true); // Inner: CW
	 context.fill();
	 
  //-->
  </script>
 </body>
</html>
