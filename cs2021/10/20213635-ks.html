
<!doctype html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
			 <style type="text/css">
				body
				{
					text-align:center;
				border:5px solid green;
				width:400px;
				margin:auto;
    box-shadow: 10px 10px #e1c7c0;	        
            font-size: 20px;
            border-radius: 10px;
				}
				input
				{
					color:red;
					background-color: #e1c7c0;
					font-size:38px;
					cursor:pointer;/* 光标 */
					box-shadow:4px 3px rgba(255,140,0,0.6);/* 阴影 */
					:0px 10px;
					border-radius:30px;/* 边框半径 */
					width:65px;
					height:65px;
					margin:15px;
					/*  控制格子大小*/
					font-weight: bold;
					font-family:"Comic Sans MS";
				}
				input:hover
				{
					border:outset;/* 边框凸起 */
					box-shadow:8px 6px rgba(255,140,0,0.8);
				}
				input:active
				{
					border:inset;/* 边框凹陷 */
					box-shadow:4px 3px rgba(255,140,0,0.8);
				}
				input#output
				{
					width:330px;
					height:40px;
					border:inset;/* 边框凹陷 */
					box-shadow:none;
					text-align:center;
				}
				h1
				{
				font: 500 50px 楷体, 微软雅黑;				color:black;					
				}
				.zhu{
				font: 500 20px 楷体, 微软雅黑;
				}
			 </style>
		<title>计算器</title>
	</head>

	<body> 
<h1>
计算器
</h1>
		<input type="text" value="" id="output"   onkeydown="test()" />
		<script type="text/javascript">
			alert("实现空格清零，回车出结果" );
			var box=['AC','%','<X','/','7','8','9','*','4','5','6','-','1','2','3','+','00','0','.','='];
			var i,j;
			for(i=0;i<box.length/4;i++)
				{
				//i控制列数
					var div=document.createElement('div');
					for(j=0;j<4;j++)
					//j控制行数
						{
							if(i*4+j<box.length)
								{
									var input=document.createElement('input');
									//creatElement是在对象中创建一个对象
									input.type="button";
									input.value=box[i*4+j];
									//value是指按钮上的文本box[i*4+j]
									input.onclick=function()
											{
												output.value+=this.value;
												//将点击值返还给output
											}
									div.appendChild(input);
									//appendChild将创建的对象在节点的子节点列表末添加新的子节点
									document.body.appendChild(div);
								}
						}
				}
			var inputs=document.querySelectorAll('input');
			inputs[1].onclick=function()
					{
						var a=output.value;
						a=a.substring(0,0);
						output.value=a;
					}
			//input[1]控制AC进行清空
			inputs[inputs.length-1].onclick=function()
					{
						var a=output.value;
						var result;
						try
						{
							result=eval(a);
						}
						catch (err)
						{
							result=err;
						}
						output.value=result;
					};
				//inputs[inputs.length-1]控制=的计算
			inputs[3].onclick=function()
					{
						var a=output.value;
						a=a.substring(0,a.length-1);
						output.value=a;
					};
			//控制length的单个减少


		</script>

		<script>	
	
	function test() {
		if (window.event.keyCode == 13) {//window.可以省略不写
			            var a=output.value;
						var result;
						try
						{
							result=eval(a);
						}
						catch (err)
						{
							result=err;
						}
						output.value=result;
						
		}
		if (window.event.keyCode ==32) {//window.可以省略不写
			 var a=output.value;
						a=a.substring(0,0);
						output.value=a;          
		}
	
	
	}</script>
	</body>
</html>
