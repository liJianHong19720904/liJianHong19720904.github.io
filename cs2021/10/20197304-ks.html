<!doctype html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<title>Calculate</title>
			 <style type="text/css">

			 * {
			    text-align:center;
                padding: 3px;
                margin: 8px;
        }       /* 设置全局的外观 */
		    	
		    input{
			    color:red;
			    background-color:yellow;
			    width: 60px;
                height:25px;
				cursor: pointer;/* 添加手指光标形式 */
                font-size: 15px;
                border-radius: 20px;
		}	   
             </style>
				
	</head>
	<body>
		<input type="text" value="" id="output" onkeydown="text"/>
        <!-- 逻辑，源于逻辑控制，即生成按钮，产生input -->
		<script type="text/javascript">
		//外联js语句，添加计算功能
			var box=['AC','%','退格','/','7','8','9','*','4','5','6','-','1','2','3','+','00','0','.','='];
			//定义box数组，用js代替写入html，解决反复写多条代码问题
			var i,j;
			//定义i，j对象
			for(i=0;i<box.length/4;i++)
				{
					var div=document.createElement('div');
					for(j=0;j<4;j++)
						{
							if(i*4+j<box.length)
								{
									var input=document.createElement('input');
									input.type="button";
									input.value=box[i*4+j];
									//数组解决反复写多条代码的问题
									input.onclick=function()
									//onlink指事件，function指匿名函数
											{
												output.value+=this.value;
											}
								    //this指写元素本身，即高级知识；这个程序生成动态效果。
									//this指的是调用函数的对象，此处指的是input
									div.appendChild(input);
								}
								    //通过div加进来，及父与子关系
						}
									document.body.appendChild(div);

				}                   //有关逻辑问题，即分工思维
			var inputs=document.querySelectorAll('input');
			//把input标记全部引过来，下面程序定义数组
			inputs[1].onclick=function()
					{
						var a=output.value;
						a=a.substring(0,0);
						output.value=a;
					}//截取字符串
			inputs[inputs.length-1].onclick=function()
					{
						var a=output.value;
						var result;
						try
						{
							result=eval(a);
						}
						// 定义清零AC按钮
						catch (err)
						{
							result=err;
						}
						output.value=result;
					};//从1开始，length-1即结束; 定义最后输出内容按钮
			inputs[3].onclick=function()
					{
						var a=output.value;
						a=a.substring(0,a.length-1);
						output.value=a;
					};//加入三条循环语句
		   
        function text() {
			if (window.event.keyCode == 13){
			            var a=output.value;
						var result;
						try
						{
							result=eval(a);
						}
						// 定义清零AC按钮
						catch (err)
						{
							result=err;
						}
						output.value=result;
			}
		}
		</script>
	</body>
</html>
