<!doctype html>
<html lang="en"> 
<head> <meta charset="UTF-8">
<title>我的计算器</title>
<style type="text/css"> 
h1{font-family:华文行楷;
}
 body{text-align:center;
 }
 input
	{
		color:blue;
		background-color:black;
		font-size:38px;
		cursor:pointer;/* 光标 */
		box-shadow:4px 3px rgba(255,140,0,0.6);/* 阴影 */
		margin:0px 10px;
		border-radius:45px;/* 边框半径 */
		width:60px;
		height:60px;
		margin:15px;
				}
input:hover
	{
		border:outset;/* 边框凸起 */
		box-shadow:8px 6px rgba(255,140,0,0.8);
				}
input:active
	{
		border:inset;/* 边框凹陷 */
		box-shadow:4px 3px rgba(255,140,0,0.8);
				}
input#output
	{
		width:330px;
		height:40px;
		border:inset;/* 边框凹陷 */
		box-shadow:none;
		text-align:center;
				} 
</style>
</head> 
 <body>
  <h1>计算器</h1>
 <!--input元素的text 类型创建基础的单行文本框,这就是为什么计算机点击按钮有文本框显示内容-->
    <input type="text" value="" id= "output" > 
	 <script>
	 //20个按钮
	 var SYMBOL = ['AC','%','<X','/','7','8','9','*','4','5','6','-','1','2','3','+','00','0','.','=']; 
	//抓取 input
	var i,j;
	 var output = document.querySelector('input#output') ;
	 //确认每行只有四个按钮
	 for (var i=0; i < SYMBOL.length / 4; i++){
		 //向页面中创造4个div盒子这个元素
		 var div = document.createElement('div') ; 
	       for (var j=0; j<4; j++ ){ 
			   //j指的就是1到20个字符按钮
			   if (i * 4 + j < SYMBOL.length) {  
				   //定义input并向页面中创造20个input
				   var input = document.createElement('input') ;  
				   //定义input的属性为按钮
				   input.type = "button" ;  
				   //将SYMBOL数组中的字符变为input在页面中显示的内容。例如SYMBOL[0]="+"
				   input.value = SYMBOL[i * 4 + j] ; 
					//点击后text即文本框将写入点击的按钮的数值，this.value应该是点击的按钮的数值
				   input.onclick = function(){ 
					   output.value += this.value ; 
					   }; 
					   //把input内容写入div，这样div和input就存在父子关系
					   div.appendChild(input) ;   
				   }  
				   } 
				   //body的appendchild是为了将div中的内容显示在body中，即实现内存内容变成页面内容。
				   document.body.appendChild(div) ;  
				   } 	
				   var inputs=document.querySelectorAll('input');
			inputs[1].onclick=function()
					{
						var a=output.value;
						a=a.substring(0,0);
						output.value=a;
					}
			inputs[inputs.length-1].onclick=function()
					{
						var a=output.value;
						var result;
						try
						{
							result=eval(a);
						}
						catch (err)
						{
							result=err;
						}
						output.value=result;
					}
			inputs[3].onclick=function()
					{
						var a=output.value;
						a=a.substring(0,a.length-1);
						output.value=a;
					}
	document.body.onkeydown = function(e){
		   if(e.keyCode = 13){
					    output.value = eval(output.value);
						output.value=result;
		   }
						e.preventDefault();
		   }
		

				
    </script>
 </body>
</html>
