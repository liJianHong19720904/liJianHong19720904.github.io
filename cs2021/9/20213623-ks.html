<!doctype html>
<html lang="en">
 <head>
  <meta charset="UTF-8">
  <title>我的计算器</title>
	<style type="text/css"> 
	body{
		text-align:center;	
	}
	input{  
			border:outset 2px solid ;
			border-radius:10px;  
			width:50px;  
			height:50px;  
			font-size:40px;    
			margin:10px;  
			color:#00ffff;  
			background-color:rgb(100,100,100);  
			cursor:pointer; 
			} 
	input:hover{  
			background-color:rgb(190,190,190); 
			} 
	input:active{  
			color:rgb(250,250,250);  
			border:inset 2px solid ; 
			} 
	input#output{   
			display:block; 
			width:260px; 
			}
	</style>
 </head>
 <body>
 <h1>简易计算器</h1>
 <center>
 <input type="text" value="" id= "output" >
 </center>
 <script>
		var symbol =["C","(",")","/","1","2","3","*","4","5","6","+","7","8","9","-",".","0","<-","="] ;
		var output = document.querySelector('input#output') ;
        for (var i=0; i < symbol.length/4; i++)
        {
			var div = document.createElement('div') ;
			for (var j=0; j<4; j++ )
			{
				if (i * 4 + j < symbol.length)
				{
					var input = document.createElement('input') ;//按键
					input.type = "button" ;
					input.value = symbol[i * 4 + j] ;
					input.onclick = function(){
						output.value += this.value ;
						}
				div.appendChild(input) ;
				}
				
			}
			document.body.appendChild(div) ;
        }
		var inputs = document.querySelectorAll('input');
		inputs[inputs.length -2].onclick = function(){  /*退格*/
			var s = output.value ;
			s = s.substring(0, s.length - 1);
			output.value = s ;
		}
		inputs[inputs.length -20].onclick = function(){  /*归零*/
			var c = output.value ;
			c = " ";
			output.value = c ;
		}
		inputs[inputs.length -1].onclick = function(){  /*运算*/
			var s = output.value ;
			var result ;
			try {
				result = eval(s) ;
			}
			catch (err) {
				result = err ;
			}
			output.value = result ;
		}
		document.body.onkeydown = function(e) {  
			var n = e.keyCode;
			if (e.keyCode == 67){  //键盘c键表示全删
				output.value = "";
			}
			if (e.keyCode == 13) {  //键盘enter键可用
				var s = output.value;
				alert(output.value);
				var result;
				result = eval(s);
				alert(result);
				output.value = "";
				output.value = result;
				e.preventDefault();		
			}
		}
 </script>
 </body>
</html>
