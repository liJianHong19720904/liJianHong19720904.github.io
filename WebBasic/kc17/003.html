<!doctype html>
<html lang="en">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>
    本例，我们把成熟的代码包装起来，封装成为函数，提供给程序反复使用。
    
  </title>
  <link rel = "stylesheet" type="text/css" href="../images/myCss.css">
  <script src="../images/myJs.js"></script>

 
 </head>

 <body>
  
  <header>
   JavaScript的输出
  </header>

  
  <article>
    
	<strong> 函数 </strong>
 
    <p   class="preface">
	   <img src="../images/girl2.jpg">
     本例在理解JavaScript基本数据类型的基础上，开始学习强大而抽象的循环程序表达，并尝试设计有逻辑的代码，尝试利用多个变量控制循环代码的运行流程，实现字符串数据处理。涉及以下内容：
     1、学习用代码表达和控制多个变量，习惯用变量来表达程序的“状态”。本例中，定义了控制循环的变量，也了存储的信息的变量，还定义了记录当前程序代码处理状态的变量，这些变量类型多样，有数组，也有字符串，还有整数，这些信息需要初学者多看、深思；
    
     4、具体的分析和思路，详见本例源代码和配合语句的注释。
    </p>
   
   <p class="poet">
   
   </p>
		

  </article>
  <footer>
    Box-Model & Float & Position  By Li CopyRight 2022
  </footer>
  
  <script>

  //有了数组的概念，
   var ts1 = '杜甫：梦李白二首之一\n死别已吞声，生别常恻恻。\n江南瘴疠地，逐客无消息。' ;
   var ts2 = '王维：西施咏\n艳色天下重，西施宁久微。\n朝为越溪女，暮作吴宫妃。\n贱日岂殊众，贵来方悟稀。\n邀人傅脂粉，不自著罗衣。\n君宠益娇态，君怜无是非。\n当时浣纱伴，莫得同车归。\n持谢邻家子，效颦安可希！' ;
   var ts3 = '王维：送綦毋潜落第还乡\n圣代无隐者，英灵尽来归。\n遂令东山客，不得顾采薇。' ;

   function makeStringtoLines(ts){   
	  var tsLines = [] ; 
		  tsLines[0] = '' ;
	  var i = 0 ; //循环变量 i 初始化 
	  var line = 0 ; 
	  while( ts[i] ) {  //undefined 在逻辑中，被判断为false
		if( ts[i]==='\n') {
		  line = line + 1 ; 
		  tsLines[line] = '' ; 
		}
		 tsLines[line] = tsLines[line] + ts[i] ;
		 i = i+1 ;  
		}
     return tsLines ;
	//注意：我们传出的数据是一个数组，数组的元素是字符串。
   }//End of Function poetLines(s)
 
 //本例我们不急着马上输出，而是把makeStringtoLines函数的处理结果，存储到唐诗数组变量内 。
 var tsArr1 = makeStringtoLines(ts1) ;
 var tsArr2 = makeStringtoLines(ts2) ;
 var tsArr3 = makeStringtoLines(ts3) ;
 
  //本例我们再创造一个基本函数，用来返回数组或字符串的长度。
 function lengthOfArray(arr){
   var length = 0 ;
   var i = 0 ;
  while( arr[i] ) {
   length = length + 1 ;
   i = i + 1 ; //忘了这句将让代码陷入恐怖的死循环
   }
  return length ;
 }//End of function lengthOfArray(arr)
 
 /***  学习探索用的代码，在本例关闭，本例将解决输出唐诗的问题，同时引入学习for循环，避免whle循环容易忘记变量的改变，而造成的困扰。
  myAlert('调用lengthOfArray函数，分析字符串：');
  myAlert("ts1共计 " + lengthOfArray(ts1) +" 个字符。") ;
  myAlert("ts2共计 " + lengthOfArray(ts2) +" 个字符。") ;
  myAlert("ts3共计 " + lengthOfArray(ts3) +" 个字符。") ;
 
  myAlert('调用lengthOfArray函数，分析数组：');
  myAlert("ts1共计 " + lengthOfArray(tsArr1) +" 行句子。") ;
  myAlert("ts2共计 " + lengthOfArray(tsArr2) +" 行句子。") ;
  myAlert("ts3共计 " + lengthOfArray(tsArr3) +" 行句子。") ;
  **/

//下面用变量继续创建数组，有些朋友可能因学习了其他计算机语言而被有固定思维，数组元素可以很多元，不限于常量，JavaScript这种灵活的语法或许可以我们深入感受代码在计算机内编译的基本概念。
  var ts = [ makeStringtoLines( ts1 ) , makeStringtoLines( ts2 ) , makeStringtoLines( ts3 ) ] ;
  //上面的数据结构需要抽象能力：ts数组的元素还是数组（其元素是每首唐诗的行）

 //for语句的语法非常精炼，一行语句内就写清晰了循环的三大重要逻辑，分别是：循环变量初始化、循环条件、循环变量的每次变化。
 //在循环次数确定的情况下，使用for结构比while结构更便利。
//在许多语言里 i++ 与 i = i + 1 等效，i += 2 与 i = i + 2 等效，具体还有许多简便写法，请各位学习者参考语法书。

  for(var i = 0 ; i < 3 ; i++){
    myAlert( '本诗共：' + lengthOfArray(ts[i])  +' 行 ！' ) ;
    myAlert( ts[i] ) ; //ts[i]是每首唐诗的行组成的数组，一次性把数组输出，效果不好。因此需要把数组的每个元素逐个输出，我们称之为数组遍历。

  }
 
  </script>

 </body>
</html>
