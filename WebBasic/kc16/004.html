<!doctype html>
<html lang="en">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>
    本例在理解JavaScript基本数据类型的基础上，开始学习强大而抽象的循环程序表达，并尝试设计有逻辑的代码，尝试利用多个变量控制循环代码的运行流程，实现字符串数据处理。涉及以下内容：
    1、学习用代码表达和控制多个变量，习惯用变量来表达程序的“状态”。本例中，定义了控制循环的变量，也了存储的信息的变量，还定义了记录当前程序代码处理状态的变量，这些变量类型多样，有数组，也有字符串，还有整数，这些信息需要初学者多看、深思；
    2、按我们处理信息的需要来设计和分析循环条件，学会用代码表达循环条件的逻辑，循环语法很容易，但循环解决问题思维是需要长期训练，对于刚接触抽象的高级语言的朋友，不需要能写出精巧的循环代码，能看懂这类代码即可；
    3、在控制代码循环次数时，有时很难确定循环条件的边界，比如到底是写“大于”还是“大于或等于” ？本例最后一个while循环，就涉及这个问题，对于头脑灵活的朋友可以用抽象思考来分析和确定，而对于算不清的大多数人，也不用因此为难，我们只要在代码中“试”几次，以代码运行实际结果为准即可。
    4、具体的分析和思路，详见本例源代码和配合语句的注释。
    

  </title>
  <link rel = "stylesheet" type="text/css" href="../images/myCss.css">
  <script src="../images/myJs.js"></script>

 
 </head>

 <body>
  
  <header>
   JavaScript的输出
  </header>

  
  <article>
    
	<strong> 循环和运算 </strong>
     <img src="../images/girl2.jpg">
  </article>
  <footer>
    Box-Model & Float & Position  By Li CopyRight 2022
  </footer>
  
  <script>

  //有了数组的概念，我们就可以用代码来分析较长的字符串了，因为在JavaScript中，字符串可以用数组的语法来读取每个字符，数组的下标从0开始。语法： 字符串名[数字下标] 。

   var ts = '杜甫：佳人\n绝代有佳人，幽居在空谷。\n自云良家子，零落依草木。\n关中昔丧乱，兄弟遭杀戮。\n官高何足论，不得收骨肉。\n世情恶衰歇，万事随转烛。\n夫婿轻薄儿，新人美如玉。\n合昏尚知时，鸳鸯不独宿。\n但见新人笑，那闻旧人哭！\n在山泉水清，出山泉水浊。\n侍婢卖珠回，牵萝补茅屋。\n摘花不插发，采柏动盈掬。\n天寒翠袖薄，日暮倚修竹。' ;
   
 //探索一种情况，当我们把超出ts字符串长度下标的字符输出，会发生什么情况？
 // $('输出 ts[1000] : ' + ts[1000]) ;  //输出 undefined

//为满足我们古诗在页面上一句一句输出的需求，我们必须编写代码编解决字符串ts的分解问题。
//引入强大的循环程序结构，尝试用抽象的循环代码来分析和处理字符串。
  var tsLines = [] ; 
  //处理好的每一行诗文，将以字符串形式，作为数组元素，存放在这个tsLines数组 。
      tsLines[0] = '' ;
  //诗文的第一行即将开始处理，我们为tsLines数组的第一个元素赋初值，而初值用空字符是最合适的，如果一个数组新元素不赋初值就引用，将得到 undefined 。
  var i = 0 ; //循环变量 i 初始化 
  var line = 0 ; // 这个变量记录tsLines的情况，可以添加到tsLines数组最后一个元素下标，初始化显然是0 ，因为数组下标都是从 0 开始的。
  while( ts[i] ) {  //undefined 在逻辑中，被判断为false
    if( ts[i]==='\n') {
      line = line + 1 ; 
      tsLines[line] = '' ; //诗文新的一行开始了，我们为tsLines数组的新增元素赋初值，而初值用空字符是最合适的，如果一个数组新元素不赋初值就引用，将得到 undefined 。
    }
    tsLines[line] = tsLines[line] + ts[i] ;
    i = i+1 ;  
    //循环变量一定要变化，能让循环条件变为false，否则计算机将永远计算下去，变成“死机”状态，当然，在Web的JavaScript中，不存在计算机死机，只是Web页会卡住很久。
  }   
  $( '共计：' + line + ' 行。' + '下面输出全诗：') ;

  i = 0 ;
  while (i < line){ 
    //循环条件有些朋友会写成：i <= line ，到底循环的边界是什么？ 值得头脑灵活的朋友用抽象思考来分析和确定，而对于头脑算不清的大多数人，也不用为难，只要在代码中“试”几次，以代码运行实际结果为准。
    $(tsLines[i]) ;
    i = i + 1 ;
  }
  </script>

 </body>
</html>
