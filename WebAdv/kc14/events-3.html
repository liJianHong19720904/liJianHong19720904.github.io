<!doctype html>
<html lang="en">
 <head>
  <meta charset="UTF-8">
  <title>Events事件和异步代码。本例在前面基础上，读取网络一张动态gif图，然后动态生成了50个img图像元素。</title>
  <style type="text/css">
	body{
	 border:2px solid;
	 font-size:1.5em;
	 cursor:pointer;
	 height:800px;
	 margin:0 ;
	 }
	div{
	  border:2px solid;
	  margin:2em;
	  width:80%;
	  height:80%;
	  background-color:rgb(200,200,200);
	 }
	 p{
	    border:2px solid;
		margin:2em;
	    background-color:rgb(180,180,180);
	    width:80%;
	    height:80%;
		text-align:center;
	  }

  </style>
  <script type="text/javascript">
  <!--
   //下面这段代码，让Web页立刻读取网络，并开始默默准备100个动态小鸟的Dom元素，存放在 gifArr 数组中，供让Web页正常建立后使用。
	var gifURL = "../images/kcBird.gif" ;
	var gifArr = [] ;
	for (var i=0; i < 50 ; i++ ){
		let gifDom = new Image();
		gifDom.src = gifURL ;
		gifDom.id = "bird-" + i ;
		gifArr[i] = gifDom ;
	}
  //-->
  </script>
  <script type="text/javascript">
  <!--
	window.onload = function(){
  
	var pDom = document.querySelector('p') ;
	
     document.body.onmousemove = function(eObj){

	  var x = eObj.clientX ;
	  var y = eObj.clientY ;

      pDom.textContent = `孙子：clientX : ${x}  ,  clientY:${y} ` ;
     //下面再动态创建一个p元素，嵌在页面静态的p元素中
	  var pgX = eObj.pageX ;
	  var pgY = eObj.pageY ;
	  var aAnotherP = document.createElement("p");
	      aAnotherP.textContent =  `重孙子： pageX : ${pgX}  ,  pageY:${pgY} `;
	  pDom.appendChild(aAnotherP);
	 };//end of body.onmousemove

// 下面这段代码必须放在window.onload中，否则body元素未建立，而导致程序错误，这段代码把内存中的50个动态图片添加到Web页后面，在已经把外部图像文件读入内存的基础上，在页面上创建50个图像元素的速度是非常之快的。
    for (var i=0; i<gifArr.length ; i++) {
     document.body.appendChild(gifArr[i]);
    }
	 
	};//end of window.onload
  //-->
  </script>
 </head>
 <body>
  爷爷body
  <div>
  父亲div
	<p>儿子p</p> 
  </div>
 </body>
</html>
